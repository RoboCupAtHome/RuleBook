%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Test Procedure}
\label{sec:rules:testprocedure}

\subsection{Safety First!}
\label{sec:rules:safetyfirst}
Robots need to be safe when interacting with people and their environment.
\begin{itemize}
	\item \textbf{Emergency Stop:} At any time, when operating the robot inside and outside the scenario, a team member has to stop the robot immediately if there is a remote possibility of dangerous behavior towards people and/or objects.
	\item \textbf{Stopping on Request:} If a referee, member of the \abb{TC}, \abb{OC}, or \abb{EC}, or trustee of the federation tells the team to stop the robot, there will be no discussion and the robot has to be stopped \emph{immediately}.
\end{itemize}

\subsubsection{Collisions}
\label{sec:rules:collisions}
\begin{itemize}
	\item \textbf{Slightly Touching:} Slightly touching objects is tolerated but unadvised.
	
	\item \textbf{Major Collisions:} If a robot crashes into something during a test, the robot is stopped immediately.
	
	\item \textbf{Functional Touching:} Robots are allowed to apply pressure to objects, push away furniture, and interact with the environment in general. However, the robot must clearly announce any collision-like interaction. Referees can still immediately stop a robot in case or suspicion of dangerous behavior.
	
	\item \textbf{Robot-Robot Avoidance:} If two robots encounter each other, they both have to actively try to avoid the other robot.
	\begin{enumerate}
		\item A robot which is not going for a different route within a reasonable amount of time (\SI{30}{\second}) is removed.
		\item A non-moving robot blocking the path of another robot for longer than a reasonable amount of time (\SI{30}{\second}) is removed.
	\end{enumerate}
\end{itemize}

\subsection{Arena Access}
\label{sec:rules:arenaaccess}
\begin{itemize}
	\item \textbf{Setup Days:} During \SetupDays{}, the number of team members inside the \Arena{} is not limited.
	\item \textbf{Before Test Block:} \SI{30}{\min} before a \Testblock{}, no team members are allowed inside the \Arena{}.
	\item \textbf{Tests:} During a \Testslot{}, the maximum number of team members allowed inside the \Arena{} is \emph{one} (1) (\Volunteers{} excluded).
	\item \textbf{Final Demonstrations:} During the \FINAL{}, the number of team members inside the \Arena{} is not limited.
\end{itemize}


\subsection{Fair Play}
\label{sec:rules:fairplay}
Fair play and cooperative behavior is expected from all teams during the entire competition.
\begin{itemize}
	\item \textbf{Evaluating:} Evaluate other teams' performances fairly, especially as jury member.
	\item \textbf{Refereeing:} Apply all rules equally to all teams.
	\item \textbf{Volunteering:} Interact reasonably with other teams' robots and as instructed.
\end{itemize}
This especially means:
\begin{itemize}
	\item \textbf{No Cheating:} Faking autonomous robot behavior and similar is highly punished. 
	\item \textbf{No Rule Exploitation:} Do not exploit rules in ways that are obviously not intended. If you find an exploitable rule, inform the \TC{} \emph{before}  the competition.
	\item \textbf{Hidden Modifications:} Modifying robots is against the basis of the \SPLs{} and therefore, highly punished.
\end{itemize}


\subsection{Robot Autonomy}
\label{sec:rules:autonomy}
Robots acting autonomously is among the key concepts of \AtHome{} (see~\ref{sec:concepts:autonomy}).
\begin{itemize}
	\item \textbf{No Touching:} During a test, team members are not allowed to make contact with their robot. Contact by referees and volunteers is only allowed if it is in a \textit{natural} way and required by the task.

	\item \textbf{Natural Interaction:} The default way to interact with a robot are gestures and speech.

	\item \textbf{No Remote Control:} Remotely controlling a robot is strictly prohibited.
	This also includes pressing buttons or influencing sensors on purpose.
\end{itemize}

\noindent\textbf{Note:} Disregard of the aforementioned rules can lead to penalties and disqualifications for a test, the competition, and future competitions.

\subsection{Expected Robot Behavior}
\label{sec:rules:robotbehavior}
Unless stated otherwise, it is expected that the robot always behaves and reacts in the same way a polite and friendly human being would.
A robot should always announce and describe what it is doing or planning to do.

\subsection{Removal of Robots}
\label{sec:rules:robotremoval}
Robots not obeying the rules are stopped and removed from the arena. It is the decision of the referees and the \abb{TC} members monitoring the test if and when to remove a robot. When told to do so, the team has to immediately stop the robot and remove it from the arena without disturbing the ongoing test.


\subsection{Start Signal}
\label{sec:rules:startsignal}
The default signal to start a test is opening the entrance door (see~\ref{sec:rules:scenario:locations}).
Other start signals are allowed but must be authorized by the \abb{TC} during \RobotInspection{} (see~\ref{sec:setupdays:inspection}).

\begin{enumerate}
	\item \textbf{Door Opening:} The robot is waiting behind the door, outside the arena and accompanied by a team member.
	The test starts when a referee opens the door.

	\item \textbf{Start Button:} If the robot is not able to automatically start after the door is open, the team may start the robot using a \StartButton{}.
	\begin{enumerate}[nosep]
		\item The procedure must be \emph{very} easy to execute.
		\item It is allowed to use the robot's contact/pressure sensors (e.g.~pushing the head or an arm joint).
	\end{enumerate}

	\item \textbf{Alternative Start Signal:} Other means of starting the robot are allowed.
	\begin{itemize}[nosep]
		\item QR codes
		\item Verbal instructions
		\item Custom HRI interfaces (apps, software, etc.)
	\end{itemize}
\end{enumerate}
\noindent\textbf{Note:} Using a start signal other than the default one, may be penalized in some tests.


\subsection{Referees}
\label{sec:rules:referees}
All tests are monitored by at least two \Referees{}, ideally members of the \abb{TC}, \abb{OC}, or \abb{EC}. At least one has to be a member of the \abb{TC} and acting main referee.


\subsection{Volunteers}
\label{sec:rules:volunteers}
Some tests require \Volunteers{} to take part in a test and interact with the robot. Teams are asked to send members as volunteers for the duration of a \Testblock{}. Larger teams are asked more frequently. 
\begin{itemize}
	\item \textbf{Announcement:} \Referee\textit{s} will ask teams to select \Volunteer\textit{s} at least \SI{30}{\min} before a \Testblock{}.
	\item \textbf{Instruction:} Before each block, \Referees{} will instruct the \Volunteers{}.
\end{itemize}


\subsection{Moderators}
\label{sec:rules:moderators}
The \abb{LOC} is responsible for organizing test moderation in the local language. The \abb{OC} may request the participating teams to provide a team member for moderation. Candidates have to be fluent in the moderation language (default is English).
\begin{compactitem}
	\item \textbf{No Interference:} The moderator has to avoid to interfere with the test. Therefore, they must follow the instructions of the \Referees{}.
	\item \textbf{Explanation:} Explain the test and the robot's plan.
	\item \textbf{Commentary:} Comment on the robot's performance.
\end{compactitem}

\noindent \textbf{Note:} Not showing up on time for volunteering or moderation will result in a penalty (see~\ref{sec:rules:penaltiesbonuses}).

\subsection{Operators}
\label{sec:rules:operators}
Unless stated otherwise, robots are operated by a \Referee{} or a \Volunteer{}. If the robot fails to understand the default operator, the team may request to select their own \CustomOperator{}. Penalty may apply when using a \CustomOperator{}.


\subsection{Time Limits}
\label{rule:time_limits}
In accordance with \ref{sec:concepts:timeconstraints}, each test has a defined time limit.
\begin{itemize}
	\item \textbf{Inactivity:} If the robot is stuck or not progressing the task, the robot is considered inactive and the main \Referee{} can decide to end the test. 

	\item \textbf{Requesting Time:} If the robot is doing time-consuming calculations or planning and only appears inactive, the robot has to announce what it is doing and for how long.

	\item \textbf{Setup Time:} Unless stated otherwise, there is no extra setup time. \SI{60}{\second} after the previous team has left the arena, the robot must be ready to enter. 

	\item \textbf{Time's Up:} When the time is up, the team has to immediately remove the robot from the arena.
	No more additional score will be given.

	\item \textbf{Show Must Go On:} In special cases, the \Referee{} may let the robot continue the test for demonstration purposes. No additional points will be scored.
\end{itemize}

\subsection{Restart}
\label{rule:restart}
Some tasks allow a single restart, a procedure in which the team is allowed to quickly fix any issue with the robot.
Restarts can be requested only when the test permits it, and when the amount of remaining time is greater than 50\% of the total.
The procedure is as follows:

\begin{enumerate}
	\item The team request a restart.
	\item The robot is taken to the initial position (e.g. outside the arena) and gets fixed.
	\item When the robot is ready, the team informs the referee.
\end{enumerate}

The following rules apply:
\begin{enumerate}
	\item \textbf{Number of Restarts:} When allowed, the maximum number of restarts is one (1).
	
	\item \textbf{Early Request:} Restart is \textbf{NOT} allowed after the first 50\% of the alloted time has elapsed.
	
	\item \textbf{Time:} The timer is neither restarted nor stopped.
	
	\item \textbf{One-Minute Setup} The team has 1 minute to fix the robot counting when the referee announces th restart.
	If the robot is not ready, the test is considered finished.
	
	\item \textbf{Scoring:} If the score of the second attempt is lower than the score of the first one, the average score of first and second run is taken.
\end{enumerate}

% Local Variables:
% TeX-master: "../Rulebook"
% End: