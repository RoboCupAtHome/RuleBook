%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% EEGPSR
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Number of concurrent teams
\newcommand{\eegpsrTeams}{2~}
% Maximum number of commands to be given to a robot
\newcommand{\eegpsrMaxCmd}{3~}
% Maximum amount of time given to a team to perform a single command
\newcommand{\eegpsrMaxCmdTime}{5~}
% Maximum amount of time given to a team to perform all commands
\newcommand{\eegpsrMaxTeamTime}{\eegpsrMaxCmd$\times$\eegpsrMaxCmdTime}

% \section[EEGPSR]{E\textsuperscript{2}GPSR \\ \normalsize{(Enhanced Endurance General Purpose Service Robot)}}
\section[EEGPSR]{Enhanced Endurance General Purpose Service Robot}
\label{sec:eegpsr}

%
% MAURICIO @2017
% Short instructions based on GPSR
%
This test evaluates the abilities of the robot that are required throughout the set of tests in Stage I and stage II of this and previous years' RuleBooks. In this test the robot has to solve multiple tasks upon request over an extended period of time (30-45 minutes). That is, the test is not incorporated into a (predefined) story and there is neither a predefined order of tasks nor a predefined set of actions. The actions that are to be carried out by the robot are chosen randomly by the referees from a larger set of actions. These actions are organized in several categories targeting an special ability. Scoring depends on the abilities shown.

\subsection{Focus}
This test particularly focuses on the following aspects:
\begin{itemize}
	\item No predefined order of actions to carry out (to get away from state machine-like behavior programming).
	\item Increased complexity in speech recognition.
	\item Environmental (high-level) reasoning.
	\item Robust long-term operation.
\end{itemize}


\subsection{Task}

\begin{enumerate}
	\item \textbf{Entering and command retrieval:} The robot enters the arena and drives to a designated position where it has to wait for further commands. \\

	\item \textbf{Command generation:} A command is generated randomly, depending on the command category chosen by the team (see below). Commands are generated by the generator which is made publicly available at https://github.com/kyordhel/GPSRCmdGen. \\

	\begin{enumerate}
		\item \textbf{Category I: Three at once.} The command is composed by \textit{three simple actions}, which the robot has to show it has recognized. the actions are much like the ones of GPSR. The robot may repeat the understood command and ask for confirmation. If it can't recognize the command correctly, it can also ask the speaker to repeat the complete command.

		\item \textbf{Category II: People.} The given commands focuses in interacting with people. Tasks in this category involve following or guiding people inside and outside the arena, recognize people's gestures or a specific person given its description, and remembering previously known people.

		\item \textbf{Category III: Objects.} The given commands focuses interacting with objects. Tasks in this category involve setting up a table, describe the objects placed on a table or shelf, and deliver objects that match a description or are located inside a cupboard or drawer.
	\end{enumerate}

	The robot can work on at most \eegpsrMaxCmd commands within each of the following scenarios randomly chosen by the referee: \\

	\begin{itemize}
		\item \textbf{Complete command.} The robot gets a command containing all the information required for its execution.

		\item \textbf{Incomplete command.} The robot gets a command that does not include all the information necessary to accomplish the task. The robot may either request the missing information (by asking reasonable questions), or attempt to solve the command on its own.

		\item \textbf{Erroneous or misleading command.} The command contains erroneous misleading information. The robot should be able to realize what went wrong and come up with a solution. In addition, it must go back to the operator and clearly state \textit{what} went wrong and \textit{how} it was fixed, or \textit{why} it wasn't able to accomplish the task.
	\end{itemize}

	\item \textbf{Task assignment:} The robot is given the command by the operator and may directly start to work on the task assignment.

	\item \textbf{Task execution:} The robot must stop the execution of a task and return to its designated position within \eegpsrMaxCmdTime minutes. Otherwise the robot must be moved to its designated position immediately. If a restart is still available to the team, it can be restarted at the designated position. \\

	\item \textbf{Returning:} After accomplishing the assigned task, the robot has to move back to its designated position to wait and retrieve the next command (i.e., go back to 1. without the need of re-entering the arena). \\

	\item \textbf{Timing:} The total time allotted to the robot for command retrieval and task execution is \eegpsrMaxTeamTime minutes. If the robot is not at its designated position after the time has expired, it must be moved at its designated position immediately.\\

\end{enumerate}

\subsection{Additional rules and remarks}
\label{sec:eegpsr-remarks}
\begin{enumerate}
	\item \textbf{CONTINUE rule:} Teams are able to use the CONTINUE rule in this test, with all the standard penalties it involves as described in~\refsec{rule:continue}.
	%The CONTINUE rule can only be used with the custom operator (e.g.~both penalties of custom speaker and CONTINUE rule will be applied).

	\item \textbf{Number of Teams and Scheduling:} In each test slot, \eegpsrTeams teams may be competing in the arena concurrently. The robots will be tested in an interleaved fashion: The robots will retrieve commands and execute the task one after the other. As stated above, each robot will have a maximum amount of \eegpsrMaxCmdTime minutes per command (including time for retrieving the command and executing it).

	\item \textbf{Returning to designated position:} To facilitate a fluent and untroubled performance of the robots, they must return (or being returned) to their designated position before the \eegpsrMaxCmdTime minutes command time elapses. \textbf{If a robot moves from its designated position while another robot is working on a command, it must be immediately disabled} and moved to its designated position. If a restart is still available to the team, it can be restarted at its designated position.

	\item \textbf{Referees:} Since the score system in this test involves a subjective evaluation of the robot's behavior, the referees are EC/TC members. One referee is assigned to each team to judge performance, to measure the time for working on a command, and to keep track of the overall operating time of the robot.

	\item \textbf{Category selection:} For every of the three commands given to the robot, the team chooses the desired command category.

	\item \textbf{Operator:}
	\begin{itemize}
		\item The person operating the robot is one of the referees (default operator).
		\item If the robot appears to consistently not be able to understand the operator, the referees ask the team to apply the CONTINUE rule (\refsec{rule:asrcontinue}).
	\end{itemize}

	\item \textbf{Inoperative robots:} If a robot gets stuck while trying to accomplish a task during a reasonable amount of time (e.g.~30 seconds), the referee may ask the team to move back the robot to its designated position, proceeding with the next robot.

	\item \textbf{Restart:} Robots will be restarted at their designated position (starting outside the arena is prohibited). If a robot requires a restart, the referee will proceed with the next robot.

	\item \textbf{Changing/Charging batteries:} The team may install a charging station at the designated position of the robot, if it does not hinder the other robots. However, the robot must connect itself with the charging station after carrying out a command. Changing batteries or manually connecting the robot with the charging station is allowed during a restart.

	\item \textbf{Retrieving the command:} The robot must show it has understood the given command by repeating the command (i.e.~stating all the required information to accomplish the task).
	\\
	\textit{Note:} Referees must have sufficient evidence proving the robot is actively trying to execute the commanded tasks to score. Robots skipping command execution will not receive points for understanding the command.

	\item \textbf{Scoring:} Robots are scored by successfully performed ability and full command completion within time.
\end{enumerate}

\subsection{OC instructions}
\textbf{2h before test:}
\begin{itemize}
	\item Specify and announce the entrance/exit door for each robot.
	\item Specify and announce the waiting position for each robot.
\end{itemize}
\textbf{During the test:}
\begin{itemize}
	\item Help placing items and arranging people upon referee request.
\end{itemize}

\subsection{Referee instructions}
\textbf{During the test:}
\begin{itemize}
	\item Generate random sentences. %by an automatic sentence generator.
	\item Take the command and total time per team.
\end{itemize}

\subsection {Audio Data Recollection}
Teams are encouraged to submit to the TC the audio data recorded during the test, specially that which was captured during speech recoginition. If so, teams are urged to provide it with annotation of what the user said and what was recognized. Audio files are expected to be mono, one per microphone (in the case array recordings), of a sample rate equal to or higher than 16 kHz, and with a sample size of at least 16 bits. Depending on the quality of the recordings and their annothations, an official certificate that formalizes these efforts may be provided to submitting teams.

\newpage
\subsection{Score sheet}
\input{scoresheets/EEGPSR.tex}

% Local Variables:
% TeX-master: "Rulebook"
% End:

